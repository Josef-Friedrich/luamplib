\input luamplib.sty
\tracingcommands1
A%
\mplibcode
%% test all printable ascii chars in comments
%%    (  2  <  F  P  Z  d   n   x
%%    )  3  =  G  Q  [  e   o   y
%%    *  4  >  H  R  \  f   p   z
%% !  +  5  ?  I  S  ]  g   q   {
%% "  ,  6  @  J  T  ^  h   r   |
%% #  -  7  A  K  U  _  i   s   }
%% $  .  8  B  L  V  `  j   t   ~
%% %  /  9  C  M  W  a  k   u  DEL
%% &  0  :  D  N  X  b  l   v
%% Â´  1  ;  E  O  Y  c  m   w
beginfig(1);
   fill fullcircle scaled 20;
endfig;
\endmplibcode
B\par
A%
\mplibcode
beginfig(0);
draw origin--(1cm,0) withcolor red;
draw btex g etex withcolor blue;
endfig;

beginfig(18);
numeric u;
u = 1cm;
draw (0,2u)--(0,0)--(4u,0);
pickup pencircle scaled 1pt;
draw (0,0){up}
  for i=1 upto 8: ..(i/2,sqrt(i/2))*u  endfor;
label.lrt(btex $\sqrt x$ etex, (3,sqrt 3)*u);
label.bot(btex $x$ etex, (2u,0));
label.lft(btex $y$ etex, (0,u));
endfig;
\endmplibcode
B\par
A%
\mplibcode
beginfig(2);
numeric u; u=1cm;
z1=-z2=(-u,0);
for i = 1 upto 3:
  draw z1..(0, i*u)..z2;
  label.top(TEX("$e_{" & decimal(i) & "}$"), (0, i*u)) withcolor blue;
endfor;
endfig;
\endmplibcode
B\par
\mplibsetformat{metafun}%
\mplibcode
verbatimtex \moveright 2cm etex
beginfig(0);
path p; p:= fullcircle scaled 2cm yshifted .5cm;
fill p withcolor transparent("normal", 0.5, red);
fill p rotated 120 withcolor transparent("normal", 0.5, green);
fill p rotated 240 withcolor transparent("normal", 0.5, blue);
endfig;
beginfig(1);
picture p;
p := btex MetaPost etex scaled 2;
linear_shade(bbox p,0,blue,.7white);
circular_shade(bbox p xshifted 4cm,0,blue,.7white);
draw p withcolor white;
draw p xshifted 4cm withcolor white;
endfig;
\endmplibcode
\bye
